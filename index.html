<!DOCTYPE HTML>
<html lang="pl">
<head>
	<title>PIK-ni i Sprawni</title>
	<meta charset="utf-8"/>
	<link rel="stylesheet" href="style.css" type="text/css"/>
	<script>
		'use strict';
		function onload() {
			// obsługa fragmentów
			var panel_ids = Array.from(document.getElementsByClassName('panel')).map(x=>'#'+x.id);
			var starting_panel = window.location.hash;
			if(!panel_ids.includes(starting_panel))
				starting_panel = '#hello';
			document.getElementById(starting_panel.substr(1)).classList.add('current_panel');

			// buttony
			let go_next = document.createElement('button');
			go_next.classList.add('go_next');
			go_next.innerText = 'Go next!';
			//panels.indexOf(this)+1
			let go_back = document.createElement('button');
			go_back.classList.add('go_back');
			go_back.innerText = 'Go back!';
			let panels = Array.from(document.getElementsByClassName('panel'));
			for (let i=0; i<panels.length; ++i) {
				if (i>0) {
					panels[i].appendChild(go_back.cloneNode(true));
					panels[i].lastChild.onclick = function(){
						panels[i].classList.remove('current_panel');
						panels[i-1].classList.add('current_panel');
						window.location.hash=panels[i-1].id;
					};
				}
				if (i<panels.length-1) {
					panels[i].appendChild(go_next.cloneNode(true));
					panels[i].lastChild.onclick = function(){
						panels[i].classList.remove('current_panel');
						panels[i+1].classList.add('current_panel');
						window.location.hash=panels[i+1].id;
					};
				}
			}
		}
		function getOcenaFromArray(x, arr) {
			for(let i=arr.length;i>0;--i)
				if(x>=arr[i])
					return i+1;
			return 0;
		}
		function calculate() {
			var v_plec, v_wiek, v_szybkosc, v_skocznosc, v_wytrzymalosc, v_sila_miesni_brzucha, v_sila_ramion, v_gibkosc, v_podsumowanie;
			v_plec = document.querySelector('input[name="i_plec"]:checked').value;
			v_wiek = document.getElementById('i_wiek').value;
			v_szybkosc = getOcenaFromArray(document.getElementById('i_szybkosc').value, [15, 20, 25, 30, 35, 40]);
			v_skocznosc = getOcenaFromArray(document.getElementById('i_skocznosc').value, [5, 6, 7, 8, 9, 10]);
			v_wytrzymalosc = getOcenaFromArray(document.getElementById('i_wytrzymalosc').value, [2, 5, 10, 15, 20, 30]);
			v_sila_miesni_brzucha = getOcenaFromArray(document.getElementById('i_sila-miesni-brzucha').value, [30, 60, 90, 120, 180, 240]);
			var e = document.getElementById("i_sila-ramion");
			v_sila_ramion = e.options[e.selectedIndex].value;
			e = document.getElementById("i_gibkosc");
			v_gibkosc = e.options[e.selectedIndex].value;
			console.log(v_plec, v_wiek, v_szybkosc, v_skocznosc, v_wytrzymalosc, v_sila_miesni_brzucha, v_sila_ramion, v_gibkosc);
		}
	</script>
</head>
<body onload="onload()">
	<header><a href="index.html">PIK-ni i Sprawni</a></header>
	<div class="panels">
		<div class="panel" id="hello">
			<p>
				Cześć! <br />
				Znudził Ci się kanapowy styl życia? A może po prstu chcesz się sprawdzić? <br />
				Tak czy inaczej musisz zrobić indeks sprawności. Wprowadź swoje dane!
			</p>
		</div>

		<div class="panel" id="plec">
			<h1>Płeć</h1>
			<p>
				<input type="radio" name="i_plec" id="mezczyzna" value="m" selected onchange="calculate()">
				<label for="mezczyzna">Mężczyzna</label>
				<input type="radio" name="i_plec" id="kobieta" value="k" disabled onchange="calculate()">
				<label for="kobieta">Kobieta</label>
			</p>
		</div>

		<div class="panel" id="wiek">
			<h1>Wiek</h1>
			<p>
				<input type="number" max="120" min="1" id="i_wiek" onchange="calculate()"/>
			</p>
		</div>

		<!-- http://g8opole.wodip.opole.pl/sport/zuchora.htm -->
		<div class="panel" id="szybkosc">
			<h1>Szybkość</h1>
			<p>
				Szybki bieg w miejscu przez 10 sek. z wysokim unoszeniem kolan
				i klaśnięciem pod uniesioną nogą. Liczymy liczbę klaśnięć.
				Podaj uzyskaną liczbę klaśnięć poniżej:
				<!--<br />
				<br />15 klaśnięć - 1
				<br />20 klaśnięć - 2
				<br />25 klaśnięć - 3
				<br />30 klaśnięć - 4
				<br />35 klaśnięć - 5
				<br />40 klaśnięć - 6
				<br />-->
				<input type="number" min="0" id="i_szybkosc" onchange="calculate()"/>
			</p>
		</div>

		<div class="panel" id="skocznosc">
			<h1>Skoczność</h1>
			<p>
				Skok w dal z miejsca. Odległość mierzy skaczący własnymi stopami.
				(wynik zaokrągla się do "całej stopy")
				<br />
				<br />5 stóp - 1
				<br />6 stóp - 2
				<br />7 stóp - 3
				<br />8 stóp - 4
				<br />9 stóp - 5
				<br />10 stóp - 6
				<br />
				<input type="number" min="0" id="i_skocznosc" onchange="calculate()"/>
			</p>
		</div>

		<div class="panel" id="wytrzymalosc">
			<h1>Wytrzymałość</h1>
			<p>
				Bieg ciągły z kadencją 120 kroków/min
				<br />
				<br />02 min - 1
				<br />05 min - 2
				<br />10 min - 3
				<br />15 min - 4
				<br />20 min - 5
				<br />30 min - 6
				<br />
				<input type="number" min="0" id="i_wytrzymalosc" onchange="calculate()"/>
			</p>
		</div>

		<div class="panel" id="sila-miesni-brzucha">
			<h1>Siła mięśni brzucha</h1>
			<p>
				Leżenie tyłem, uniesienie nóg tuż nad podłożem.
				Wykonywanie jak najdłużej ćwiczenia - "nożyce poprzeczne".
				<br />
				<br />30 s - 1
				<br />60 s - 2
				<br />90 s - 3
				<br />120 s - 4
				<br />180 s - 5
				<br />240 s - 6
				<br />
				<input type="number" min="0" id="i_sila-miesni-brzucha" onchange="calculate()"/>
			</p>
		</div>

		<div class="panel" id="sila-ramion">
			<h1>Siła ramion</h1>
			<p>
				Zwis na drążku (może być np. gałąź).
				Wykonywanie ćwiczeń o narastającym stopniu trudnośi (patrz tabela).
				<br />
				<select id="i_sila-ramion" onchange="calculate()">
					<option value="0">nic</option>
					<option value="1">Zawis na wyprostowanych rękach, wytrzymanie 5 sek.</option>
					<option value="2">Zawis na wyprostowanych rękach, wytrzymanie 10 sek.</option>
					<option value="3">Zawis na wyprostowanych rękach, podciągnięcie się oburącz, tak aby głowa była wyżej niż drążek, wytrzymanie 3 sek.</option>
					<option value="4">Zawis na wyprostowanych rękach, podciągnięcie się oburącz, tak aby głowa była wyżej niż drążek, wytrzymanie 10 sek.</option>
					<option value="5">Zawis, podciągnięcie się oburącz, wolne opuszczenie jednej ręki, wytrzymanie 10 sek.</option>
					<option value="6">Zawis, podciągnięcie się</option>
				</select>
			</p>
		</div>

		<div class="panel" id="gibkosc">
			<h1>Gibkość</h1>
			<p>
				Stanie w pozycji na baczność. Wykonanie ciągłym powolnym ruchem
				skłonu tułowia w przód bez zginania nóg w kolanach.(patrz tabela).
				<br />
				<select id="i_gibkosc" onchange="calculate()">
					<option value="0">nic</option>
					<option value="1">Chwyt oburącz za kostki</option>
					<option value="2">Dotknięcie palcami obu rąk palców stóp</option>
					<option value="3">Dotknięcie palcami obu rąk podłoża</option>
					<option value="4">Dotknięcie wszystkimi palcami (obu rąk) podłoża</option>
					<option value="5">Dotknięcie dłońmi podłoża</option>
					<option value="6">Dotknięcie głową kolan</option>
				</select>
			</p>
		</div>

		<div class="panel" id="podsumowanie">
			<p>
				Podsumowanie:
				<table>
					<tr>
						<td>Płeć</td>
						<td id="d_plec"></td>
					</tr>
					<tr>
						<td>Wiek</td>
						<td></td>
					</tr>
					<tr>
						<td>Szybkość</td>
						<td id="d_szybkosc"></td>
					</tr>
					<tr>
						<td>Skoczność</td>
						<td id="d_skocznosc"></td>
					</tr>
					<tr>
						<td>Wytrzymałość</td>
						<td id="d_wytrzymalosc"></td>
					</tr>
					<tr>
						<td>Siła mięśni brzucha</td>
						<td id="d_sila-miesni-brzucha"></td>
					</tr>
					<tr>
						<td>Siła ramion</td>
						<td id="d_sila-ramion"></td>
					</tr>
					<tr>
						<td>Gibkość</td>
						<td id="d_gibkosc"></td>
					</tr>
					<tr>
						<td>Razem</td>
						<td id="d_razem"></td>
					</tr>
					<tr>
						<td>Ocena</td>
						<td id="d_ocena"></td>
					</tr>
				</table>
			</p>
		</div>
	</div>
</body>
</html>
